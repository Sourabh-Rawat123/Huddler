<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Room - Huddler</title>
    <link href="/output.css" rel="stylesheet" />
    <style>
        @keyframes gradient-shift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .animated-gradient {
            background: linear-gradient(-45deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 400% 400%;
            animation: gradient-shift 15s ease infinite;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .input-field {
            transition: all 0.3s ease;
        }

        .input-field:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-create {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .btn-create:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
        }

        .room-type-option {
            transition: all 0.2s ease;
        }

        .room-type-option:hover {
            background: #f8f9fa;
        }

        @media (max-width: 640px) {
            .glass-card {
                padding: 1.5rem !important;
            }
        }
    </style>
</head>

<body class="animated-gradient min-h-screen flex items-center justify-center p-4">
    <div class="glass-card rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl w-full">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">
                Create a New Room
            </h1>
            <p class="text-gray-600">Set up your chat space and invite friends</p>
        </div>

        <!-- Create Room Form -->
        <form action="/chat/create-room" method="POST" class="space-y-6">
            
            <!-- Room Name -->
            <div>
                <label for="roomName" class="block text-gray-700 font-semibold mb-2">
                    Room Name <span class="text-red-500">*</span>
                </label>
                <input 
                    type="text" 
                    id="roomName"
                    name="roomName" 
                    placeholder="e.g., Study Group, Gaming Squad, Team Meeting"
                    class="input-field w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 outline-none"
                    required 
                    maxlength="50"
                />
                <p class="text-xs text-gray-500 mt-1">Choose a descriptive name for your room</p>
            </div>

            <!-- Room Type -->
            <div>
                <label for="roomType" class="block text-gray-700 font-semibold mb-2">
                    Room Type <span class="text-red-500">*</span>
                </label>
                <select 
                    name="roomType" 
                    id="roomType"
                    class="input-field w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 outline-none cursor-pointer"
                    required
                >
                    <option value="" disabled selected>Select room type</option>
                    <option value="private">üîí Private - Invite only</option>
                </select>
                <p class="text-xs text-gray-500 mt-1">Choose who can access this room</p>
            </div>

            <!-- Room Description -->
            <div>
                <label for="roomDescription" class="block text-gray-700 font-semibold mb-2">
                    Room Description
                </label>
                <textarea 
                    id="roomDescription"
                    name="roomDescription" 
                    placeholder="What's this room about? (Optional)"
                    class="input-field w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-purple-500 outline-none resize-none"
                    rows="4"
                    maxlength="200"
                ></textarea>
                <p class="text-xs text-gray-500 mt-1">Help others understand the purpose of this room</p>
            </div>

            <!-- Room Code (Auto-generated info) -->
            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-lg">
                <p class="text-sm text-gray-700">
                    <span class="font-semibold">üí° Note:</span> A unique room code will be generated automatically after creation. Share it with friends to invite them!
                </p>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 pt-4">
                <button 
                    type="submit"
                    class="btn-create flex-1 text-white font-bold py-3 px-6 rounded-full shadow-lg hover:shadow-2xl"
                >
                    ‚ú® Create Room
                </button>
                
                <a 
                    href="/chat"
                    class="flex-1 text-center bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-full transition shadow-md hover:shadow-lg"
                >
                    ‚Üê Cancel
                </a>
            </div>
        </form>

    </div>

    <script>
        // Character counter for room name
        const roomNameInput = document.getElementById('roomName');
        const roomDescInput = document.getElementById('roomDescription');

        roomNameInput.addEventListener('input', function() {
            const label = document.querySelector('label[for="roomName"]');
            const remaining = 50 - this.value.length;
            if (remaining < 10) {
                label.innerHTML = `Room Name <span class="text-red-500">*</span> <span class="text-xs text-gray-500">(${remaining} chars left)</span>`;
            } else {
                label.innerHTML = 'Room Name <span class="text-red-500">*</span>';
            }
        });

        roomDescInput.addEventListener('input', function() {
            const label = document.querySelector('label[for="roomDescription"]');
            const remaining = 200 - this.value.length;
            if (remaining < 20) {
                label.innerHTML = `Room Description <span class="text-xs text-gray-500">(${remaining} chars left)</span>`;
            } else {
                label.innerHTML = 'Room Description';
            }
        });

        // Form validation
        document.querySelector('form').addEventListener('submit', function(e) {
            const roomName = document.getElementById('roomName').value.trim();
            const roomType = document.getElementById('roomType').value;

            if (!roomName) {
                e.preventDefault();
                alert('Please enter a room name');
                return;
            }

            if (!roomType) {
                e.preventDefault();
                alert('Please select a room type');
                return;
            }
        });
    </script>
</body>
</html>